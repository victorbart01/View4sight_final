{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorbarthelemy/Documents/GitHub/View4Sight-final/View4sight_final/lib/polar.js"],"sourcesContent":["import { Polar } from \"@polar-sh/sdk\";\n\nexport const polarClient = new Polar({\n  accessToken: process.env.POLAR_ACCESS_TOKEN,\n  server: process.env.POLAR_SERVER || \"sandbox\", // Use \"production\" when ready\n}); "],"names":[],"mappings":";;;AAAA;AAAA;;AAEO,MAAM,cAAc,IAAI,mKAAA,CAAA,QAAK,CAAC;IACnC,aAAa,QAAQ,GAAG,CAAC,kBAAkB;IAC3C,QAAQ,QAAQ,GAAG,CAAC,YAAY,IAAI;AACtC"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorbarthelemy/Documents/GitHub/View4Sight-final/View4sight_final/app/api/checkout/route.js"],"sourcesContent":["import { polarClient } from \"@/lib/polar\";\nimport { NextResponse } from \"next/server\";\n\nexport async function GET(request) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const productId = searchParams.get('product_id');\n\n    if (!productId) {\n      return NextResponse.json({ error: \"Missing product_id parameter\" }, { status: 400 });\n    }\n\n    // Cr√©er la session de checkout avec Polar\n    const checkoutSession = await polarClient.checkouts.create({\n      products: [productId],\n      successUrl: `${process.env.NEXT_PUBLIC_BASE_URL}/success`,\n    });\n\n    // Rediriger vers l'URL de checkout Polar\n    return NextResponse.redirect(checkoutSession.url);\n    \n  } catch (error) {\n    console.error(\"Polar checkout error:\", error);\n    return NextResponse.json({ \n      error: \"Failed to create checkout session\",\n      details: error.message \n    }, { status: 500 });\n  }\n} "],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAO;IAC/B,IAAI;QACF,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,YAAY,aAAa,GAAG,CAAC;QAEnC,IAAI,CAAC,WAAW;YACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA+B,GAAG;gBAAE,QAAQ;YAAI;QACpF;QAEA,0CAA0C;QAC1C,MAAM,kBAAkB,MAAM,8GAAA,CAAA,cAAW,CAAC,SAAS,CAAC,MAAM,CAAC;YACzD,UAAU;gBAAC;aAAU;YACrB,YAAY,GAAG,QAAQ,GAAG,CAAC,oBAAoB,CAAC,QAAQ,CAAC;QAC3D;QAEA,yCAAyC;QACzC,OAAO,gIAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,gBAAgB,GAAG;IAElD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YACvB,OAAO;YACP,SAAS,MAAM,OAAO;QACxB,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}